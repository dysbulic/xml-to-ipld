(this["webpackJsonpxml-to-ipld"]=this["webpackJsonpxml-to-ipld"]||[]).push([[0],{229:function(e,t){},240:function(e,t){},257:function(e,t){},258:function(e,t){},463:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(175),o=n.n(c),i=n(477),s=n(29),u=n(1),l=n.n(u),d=n(30),f=n(11),h=n(181),p=n(473),b=n(474),v=n(478),x=n(476),m=n(475),j=n(55),O=n(176),g=n.n(O),N=n(7),y=n.n(N),E=g()({port:5001}),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(t).map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},T=function(e){var t,n=e.node,r=e.children,a=e.depth,c=e.left,o=e.right,i={name:n.localName,children:r,depth:a,left:c,right:o};return i.type=function(){switch(n.nodeType){case Node.ELEMENT_NODE:return"element";case Node.TEXT_NODE:return"text";case Node.ATTRIBUTE_NODE:return"attribute";case Node.CDATA_SECTION_NODE:return"cdata";case Node.ENTITY_REFERENCE_NODE:return"reference";case Node.ENTITY_NODE:return"entity";case Node.PROCESSING_INSTRUCTION_NODE:return"instruction";case Node.COMMENT_NODE:return"comment";case Node.DOCUMENT_NODE:return"document";case Node.DOCUMENT_TYPE_NODE:return"doctype";case Node.DOCUMENT_FRAGMENT_NODE:return"fragment";case Node.NOTATION_NODE:return"notation";default:return"unknown"}}(),"text"!==i.type&&"cdata"!==i.type||(delete i.name,i.value=n.textContent,!/^\n\s*$/.test(i.value))?(0===r.length&&delete i.children,i.attributes=Object.fromEntries(Object(s.a)(null!==(t=n.attributes)&&void 0!==t?t:[]).map((function(e){var t=e.value;return"style"===e.name&&(t=Object.fromEntries(e.value.split(";").map((function(e){var t=e.split(":"),n=Object(j.a)(t),r=n[0],a=n.slice(1);return[w(r.trim()),a.join().trim()]})).filter((function(e){return e.some((function(e){return/\S/.test(e)}))})))),[e.name,t]}))),0===Object.keys(i.attributes).length&&delete i.attributes,i):null},k=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.a.isCID(t)){e.next=4;break}return e.next=3,E.dag.get(t);case 3:return e.abrupt("return",e.sent.value);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,o,i,s,u,d,h,p,b,v,x,m,j,O,g,N;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(null!==(n=t)&&void 0!==n?n:{});case 2:t=e.sent,r={},a=0,c=Object.entries(t);case 5:if(!(a<c.length)){e.next=13;break}return o=Object(f.a)(c[a],2),i=o[0],s=o[1],e.next=9,k(s);case 9:r[i]=e.sent;case 10:a++,e.next=5;break;case 13:if(r.style){for(u={},d=0,h=Object.entries(r.style);d<h.length;d++)p=Object(f.a)(h[d],2),b=p[0],v=p[1],u[w(b,"-")]=v;r.style=u}for(r.class&&(r.className=r.class,delete r.class),x=0,m=["xml:space","xmlns:xlink","xlink:href"];x<m.length;x++)r[j=m[x]]&&(r[w(j,":")]=r[j],delete r[j]);for(O=0,g=["flood-opacity","flood-color","stop-color","clip-rule"];O<g.length;O++)r[N=g[O]]&&(r[w(N,"-")]=r[N],delete r[N]);return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c,o,i,s,u,d,f,h,p,b,v,x,m,j,O,g,N,y,E,w,T,S,F;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.root,r=t.key,c=void 0===r?{val:0}:r,o=t.onProcessing,i=void 0===o?null:o,s=t.onCompleting,u=void 0===s?null:s,d=t.onDOMStart,f=void 0===d?null:d,h=t.onDOMFinish,p=void 0===h?null:h,b=t.onChildElem,v=void 0===b?null:b,"element"===n.type){e.next=3;break}throw new Error("Root Type: ".concat(n.type));case 3:return null===i||void 0===i||i({node:n}),x=[],m=0,e.t0=Object,e.next=9,k(null!==(O=n.children)&&void 0!==O?O:[]);case 9:e.t1=e.sent,j=e.t0.values.call(e.t0,e.t1);case 11:if(!(m<j.length)){e.next=49;break}return g=j[m],e.next=15,k(g);case 15:if("element"!==(g=e.sent).type){e.next=45;break}return null===f||void 0===f||f({child:g}),e.t2=Promise,e.t3=Object,e.next=22,k(null!==(N=g.children)&&void 0!==N?N:[]);case 22:return e.t4=e.sent,e.t5=e.t3.values.call(e.t3,e.t4).map(k),e.next=26,e.t2.all.call(e.t2,e.t5);case 26:if(g.children=e.sent,0!==g.children.length&&!g.children.some((function(e){return!["text","cdata"].includes(e.type)}))){e.next=35;break}return e.next=30,D({root:g,key:c,onProcessing:i,onCompleting:u,onDOMStart:f,onDOMFinish:p,onChildElem:v});case 30:y=e.sent,null===p||void 0===p||p({child:g,node:y}),x.push(y),e.next=43;break;case 35:return e.next=37,C(g.attributes);case 37:(E=e.sent).key=++c.val,w=g.children.map((function(e){return e.value})).join(),T=a.a.createElement(g.name,E,w),null===v||void 0===v||v({child:g,node:T}),x.push(T);case 43:e.next=46;break;case 45:g.value&&""!==g.value.trim()&&console.error("Child",g.value);case 46:m++,e.next=11;break;case 49:return e.next=51,C(n.attributes);case 51:return(S=e.sent).key=++c.val,F=a.a.createElement(n.name,S,x.length>0?x:null),null===u||void 0===u||u(n,F),e.abrupt("return",F);case 56:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(new DOMParser).parseFromString("INVALID","application/xml").getElementsByTagName("parsererror")[0].namespaceURI,F=function(e){return e.getElementsByTagNameNS(S,"parsererror").length>0},P=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var n=new DOMParser,r=n.parseFromString(e.target.result.toString(),"application/xml");if(!F(r))return t(r);var a=n.parseFromString(e.target.result.toString(),"text/html");if(F(a))return t(null);if("html"===a.firstChild.localName&&function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(Array.from(a.firstChild.childNodes).map((function(e){return e.localName})),["head","body"])){var c=a.firstChild.firstChild,o=a.firstChild.childNodes[1];if(0===c.childNodes.length&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.nodeType};return Array.from(e).all((function(e){return n(e)===t}))}(o.childNodes,Node.TEXT_NODE)){var i=Array.from(o.childNodes).map((function(e){return e.textContent})).join();return t(i)}return t(a)}},r.readAsText(e)}))},A=n(182),I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.obj,r=t.leafFor,a=void 0===r?function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():r,c={},e.next=4,Promise.all(Object.entries(n).map(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(f.a)(t,2),r=n[0],o=n[1],!Array.isArray(o)){e.next=7;break}return e.next=4,Promise.all(o.map(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({obj:t,leafFor:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:c[r]=e.sent,e.next=14;break;case 7:if("object"!==typeof o){e.next=13;break}return e.next=10,I({obj:o,leafFor:a});case 10:c[r]=e.sent,e.next=14;break;case 13:c[r]=o;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,a(c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function e(t){var n=t.node,r=t.depth,a=void 0===r?1:r,c=t.count,o=void 0===c?{current:1}:c,i=t.pre,s=void 0===i?function(){}:i,u=t.step,l=void 0===u?function(){}:u,d=t.nodeFor,f=void 0===d?function(e){var t=e.node;Object(A.a)(e,["node"]);return t}:d,h=t.childrenOf,p=void 0===h?function(e){return Array.from(e.childNodes)}:h,b=o.current;s(n,a,b);var v=[];return p(n).forEach((function(t){o.current++;var r=e({node:t,pre:s,step:l,nodeFor:f,childrenOf:p,depth:a+1,count:o});r&&(v.push(r),l({node:n,children:v,depth:a,left:b,right:o.current}))})),f({node:n,children:v,depth:a,left:b,right:o.current})},M=n(14),R=Object(h.a)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,568))})),U=function(e){return/^(\d+\.?\d*)|(\d*\.?\d+)$/.test(e)},B=function(e){var t;if("http://www.w3.org/2000/svg"===(null===e||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.xmlns)){var n=null===e||void 0===e?void 0:e.attributes,r=n.width,a=n.height;!n.viewBox&&U(r)&&U(a)&&(e.attributes.viewBox=[0,0,r,a].join(" ")),!r&&(e.attributes.width="100%"),!a&&(e.attributes.height="100%")}},H=function(){var e=Object(r.useState)(null),t=Object(f.a)(e,2),n=t[0],a=t[1],c=[B];Object(r.useEffect)((function(){}),[]);var o=function(e){var t=e.child;console.info("Processing",t)},i=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,i,s,u,f,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files,r=t.target.value,0!==n.length){e.next=4;break}throw new Error("No file is selected");case 4:return e.next=6,P(n[0]);case 6:if(null!==(i=e.sent)){e.next=11;break}a(Object(M.jsxs)("h1",{children:[Object(M.jsx)("code",{children:"null"})," Document"]})),e.next=36;break;case 11:if("string"!==typeof i){e.next=15;break}/\x00/.test(i)?a(Object(M.jsx)("object",{data:"data:;base64,".concat(btoa(i)),children:Object(M.jsxs)("p",{children:["This was the binary object: ",r]})})):a(Object(M.jsx)("pre",{children:i})),e.next=36;break;case 15:return s=_({node:i.documentElement,nodeFor:T}),console.info("DFS",s),e.prev=17,c.forEach((function(e){return e(s)})),e.next=21,I({obj:s,leafFor:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.dag.put(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 21:return u=e.sent,e.next=24,E.dag.get(u);case 24:return f=e.sent.value,console.info("CID for ".concat(r,": ").concat(u.toString())),e.next=28,D({root:f,onDOMStart:o});case 28:h=e.sent,a(h),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(17),console.warn("Error Building",e.t0),a(Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(p.a,{children:"Unable to create object."}),Object(M.jsxs)(p.a,{children:["Error: ",Object(M.jsx)("q",{children:e.t0.message})]}),Object(M.jsx)(p.a,{children:"If the error is with fetching, try the CORS solution above."})]}));case 36:case"end":return e.stop()}}),e,null,[[17,32]])})));return function(t){return e.apply(this,arguments)}}(),u={nodes:Object(s.a)(new Array(5)).map((function(e,t){return{id:t+1}})),links:[{source:1,target:3},{source:3,target:4},{source:5,target:3},{source:5,target:1}]};return Object(M.jsxs)(b.a,{align:"center",direction:"column",mt:25,children:[Object(M.jsxs)(p.a,{children:["This program requires write access to an IPFS endpoint. If you want to use it from the web, you'll need to whitelist ",Object(M.jsx)("code",{children:"dysbulic.github.io"}),"."]}),Object(M.jsxs)(v.b,{listStyleType:"none",children:[Object(M.jsx)(v.a,{_before:{content:'"$ "'},children:'ipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin \'["http://localhost:3000", "http://localhost:5001", "https://webui.ipfs.io", "https://dysbulic.github.io"]\''}),Object(M.jsx)(v.a,{_before:{content:'"$ "'},children:'ipfs config --json API.HTTPHeaders.Access-Control-Allow-Methods \'["PUT", "POST"]\''})]}),Object(M.jsx)(x.a,{type:"file",onChange:i,minH:"2em",maxW:500,fontSize:30}),n&&Object(M.jsx)(m.a,{h:"90vh",children:n}),Object(M.jsx)(R,{graph:u})]})},L=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,569)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(i.a,{children:Object(M.jsx)(H,{})})}),document.getElementById("root")),L()}},[[463,1,2]]]);
//# sourceMappingURL=main.7f0bb6b6.chunk.js.map